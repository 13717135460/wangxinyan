(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02128b46"],{"14d9":function(t,n,e){"use strict";var s=e("23e7"),a=e("7b0b"),r=e("07fa"),c=e("3a34"),i=e("3511"),o=e("d039"),l=o((function(){return 4294967297!==[].push.call({length:4294967296},1)})),v=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},u=l||!v();s({target:"Array",proto:!0,arity:1,forced:u},{push:function(t){var n=a(this),e=r(n),s=arguments.length;i(e+s);for(var o=0;o<s;o++)n[e]=arguments[o],e++;return c(n,e),e}})},"1a53":function(t,n,e){},3511:function(t,n){var e=TypeError,s=9007199254740991;t.exports=function(t){if(t>s)throw e("Maximum allowed index exceeded");return t}},"37a5":function(t,n,e){"use strict";e("fed9")},"3a34":function(t,n,e){"use strict";var s=e("83ab"),a=e("e8b5"),r=TypeError,c=Object.getOwnPropertyDescriptor,i=s&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=i?function(t,n){if(a(t)&&!c(t,"length").writable)throw r("Cannot set read only .length");return t.length=n}:function(t,n){return t.length=n}},"81ee":function(t,n,e){"use strict";var s=function(){var t=this,n=t._self._c;return n("div",{staticClass:"my-navbar"},[n("nav",{staticClass:"menu"},[n("ul",t._l(t.navList,(function(e,s){return n("li",{key:s,staticClass:"title"},[n("span",{staticClass:"txt",class:{active:t.$route.path===e.router},domProps:{textContent:t._s(e.text)},on:{click:function(n){return t.toggleClick(e.event)}}})])})),0)])])},a=[],r=(e("14d9"),{name:"my-navbar",props:{msg:String},components:{},filters:{},data:function(){return{navList:[{router:"/home",event:"home",text:"首页"},{router:"/blog",event:"blog",text:"博客"},{router:"/news",event:"news",text:"新闻"},{router:"/soccer",event:"soccer",text:"足球"},{router:"/case",event:"case",text:"案例"}]}},methods:{toggleClick:function(t){this.$router.push("/".concat(t))}}}),c=r,i=(e("b41a"),e("2877")),o=Object(i["a"])(c,s,a,!1,null,"77f1db8f",null);n["a"]=o.exports},8447:function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t._self._c;return n("div",{staticClass:"my-blogs"},[n("navbar"),t._m(0)],1)},a=[function(){var t=this,n=t._self._c;return n("div",{staticClass:"container"},[n("h1",[t._v("html2canvas截图工具初体验")]),n("p",{staticClass:"section"},[t._v("html2canvas 能够实现在用户浏览器端直接对整个或部分页面进行截屏，html2canvas脚本将当页面渲染成一个Canvas图片它不需要来自服务器任何渲染，整张图片都是在客户端浏览器创建。")]),n("p",{staticClass:"section"},[n("span",{staticClass:"red"},[t._v("html2canvas 截图原理")]),n("br"),t._v("它不做实际的屏幕截图，而是基于DOM节点的截图，根据获取DOM的样式表来渲染页面，部分css样式不起作用，对于生成的图片来说，不能100%准确")]),n("pre",{staticStyle:{color:"#666"}},[t._v("    "),n("span",{staticClass:"red"},[t._v("// 要截图的DOM")]),t._v('\n    <div id="sharePic">\n    <img :src="xxx.png"/>\n    <p >这是分享的内容</p>\n    </ div>\n\n    methods: {\n      getSharePic () {\n        let _this = this\n        \n        '),n("span",{staticClass:"red"},[t._v("// 要绘制图片的DIV")]),t._v("\n        let shareBox = document.getElementById('sharePic')\n        \n        "),n("span",{staticClass:"red"},[t._v("// 返回元素的宽度（包括元素宽度、内边距和边框，不包括外边距）")]),t._v("\n        let width = shareBox.offsetWidth\n        \n        "),n("span",{staticClass:"red"},[t._v("// 返回元素的高度（包括元素高度、内边距和边框，不包括外边距）")]),t._v("\n        let height = shareBox.offsetHeight\n        \n        "),n("span",{staticClass:"red"},[t._v("// 返回元素的上外缘距离最近采用定位父元素内壁的距离")]),t._v("\n        let offsetTop = shareBox.offsetTop\n        \n        "),n("span",{staticClass:"red"},[t._v("// 创建canvas画布")]),t._v("\n        let canvas = document.createElement_x_x_x_x_x_x_x_x('canvas')\n        \n        "),n("span",{staticClass:"red"},[t._v("// 指定绘图类型为二维绘图，未来如果支持3D绘图，就可以传递3d参数")]),t._v('\n        let context = canvas.getContext("2d")\n        \n        '),n("span",{staticClass:"red"},[t._v("// 返回当前显示设备的物理像素分辨率与css像素分辨率的比率，可理解为像素大小比率")]),t._v("\n        let scaleBy = Math.ceil(window.devicePixelRatio)\n        \n        "),n("span",{staticClass:"red"},[t._v("// 定义画布的宽度")]),t._v("\n        canvas.width = width * scaleBy\n        \n        "),n("span",{staticClass:"red"},[t._v("// 定义画布的高度")]),t._v("\n        canvas.height = (height + offsetTop) * scaleBy\n        \n        let params = {\n        useCORS: true, // 允许加载跨域的图片\n        tainttest: true, // 检测每张图片都已经加载完成\n        scale: scaleBy, // 添加的scale 参数\n        canvas: canvas, // 自定义 canvas\n        logging: false, // 日志开关，发布的时候记得改成false\n        width: width,  // DOM 原始宽度\n        height: height // DOM 原始高度\n        }\n\n        html2canvas(shareBox, params).then(function(canvas) {\n          // 获取到图片的url\n        let url = canvas.toDataURL()\n        })\n      }\n    }\n    ")]),n("p",{staticClass:"section"},[n("span",{staticClass:"red"},[t._v("案例：")]),n("br"),n("span",{staticClass:"red"},[t._v("DOM 结构页面")])]),n("p",[n("img",{attrs:{src:e("8790"),alt:"截图"}})]),n("p",{staticClass:"section"},[t._v("html2canvas 生成图 （ 弹窗内 ） url 形式base64格式呈现")]),n("p",[n("img",{attrs:{src:e("b473"),alt:"截图"}})]),n("p",[n("span",{staticClass:"red"},[t._v("注意点：")]),n("br"),t._v(" 1.不能渲染出动画的节点，否则生成的图片是破裂的"),n("br"),t._v(" 2.需要开启useCORS配置项，否则微信图片等外部图片会加载不出来"),n("br"),t._v(" 3.html2canvas 截图精度不高，部分css属性不起作用，不能完美呈现原画面样式 ")])])}],r=e("81ee"),c={name:"my-blogs",components:{navbar:r["a"]},filters:{},data:function(){return{}},methods:{}},i=c,o=(e("37a5"),e("2877")),l=Object(o["a"])(i,s,a,!1,null,"44c31498",null);n["default"]=l.exports},8790:function(t,n,e){t.exports=e.p+"img/1.e35c67bd.png"},b41a:function(t,n,e){"use strict";e("1a53")},b473:function(t,n,e){t.exports=e.p+"img/2.0e623fb7.png"},fed9:function(t,n,e){}}]);
//# sourceMappingURL=chunk-02128b46.14a56d5f.js.map