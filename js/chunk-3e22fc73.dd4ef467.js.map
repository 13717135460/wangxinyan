{"version":3,"sources":["webpack:///./src/views/case/interceptor.vue?eb56","webpack:///./src/views/case/interceptor.vue","webpack:///src/views/case/interceptor.vue","webpack:///./src/views/case/interceptor.vue?3c29","webpack:///./src/views/case/interceptor.vue?bda1"],"names":["render","_vm","this","_self","_c","_m","staticRenderFns","staticClass","_v","staticStyle","name","data","methods","component"],"mappings":"gHAAA,W,yCCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAQD,EAAIE,MAAMC,GAAG,OAAOH,EAAII,GAAG,IAEtEC,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKE,EAAGH,EAAIE,MAAMC,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,wBAAwB,CAACH,EAAG,KAAK,CAACH,EAAIO,GAAG,YAAYJ,EAAG,MAAM,CAACA,EAAG,OAAO,CAACK,YAAY,CAAC,MAAQ,UAAU,cAAc,SAAS,CAACR,EAAIO,GAAG,cAAcP,EAAIO,GAAG,wgBAAwgBJ,EAAG,OAAO,CAACK,YAAY,CAAC,MAAQ,UAAU,cAAc,SAAS,CAACR,EAAIO,GAAG,cAAcP,EAAIO,GAAG,yxBC6Dj1B,GACfE,KAAA,cACAC,KAAA,WACA,UAIAC,QAAA,ICtEoW,I,wBCQhWC,EAAY,eACd,EACAb,EACAM,GACA,EACA,KACA,WACA,MAIa,aAAAO,E","file":"js/chunk-3e22fc73.dd4ef467.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interceptor.vue?vue&type=style&index=0&id=21f1cac6&prod&lang=less&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"case-box interceptor\"},[_c('h1',[_vm._v(\"vue拦截器\")]),_c('pre',[_c('span',{staticStyle:{\"color\":\"#990030\",\"font-weight\":\"bold\"}},[_vm._v(\"// 请求拦截器\")]),_vm._v(\"\\nhttp.interceptors.request.use(\\n  config => {\\n    let token = session.get('token')\\n    if (token) {\\n      config.headers.Authorization = token  // 将token设置成请求头\\n    }\\n    if (config.responseType === 'blob') {\\n      config.headers.responseType = 'blob' // 设置请求头类型\\n    }\\n    if (config.responseType === 'application/x-www-form-urlencoded') {\\n      config.headers['Content-Type'] = 'application/x-www-form-urlencoded'\\n    }\\n    return config\\n  },\\n  error => {\\n    return Promise.reject(error)\\n  }\\n)\\n\\n\"),_c('span',{staticStyle:{\"color\":\"#990030\",\"font-weight\":\"bold\"}},[_vm._v(\"// 响应拦截器\")]),_vm._v(\"\\nhttp.interceptors.response.use(\\n  res => {\\n    // 错误码统一拦截\\n    let { status, msg } = res.data || res\\n    if (status !== 0) {\\n      Message.error(msg) // 需要引入ElementUI message组件\\n    }\\n    return res\\n  },\\n  error => {\\n    if (error && error.response) {\\n      let { status } = error.response.data\\n      if (status === 400) { // 错误码拦截\\n        Message.error('服务异常')\\n      }\\n      if (status === 404) {\\n        Message.error('页面请求地址错误')\\n      }\\n      if (status === 500) {\\n        Message.error('服务异常')\\n      }\\n      if (status === 'canceled') {\\n        Message.error('服务异常')\\n      }\\n    }\\n  \\n    // 对响应错误做点什么\\n    if(error.message.includes('timeout')){ // 判断请求异常信息中是否含有超时timeout字符串\\n      Message.error('请求超时')\\n    }\\n    return Promise.reject(error)\\n  }\\n)\\n\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"case-box interceptor\">\r\n    <h1>vue拦截器</h1>\r\n<pre>\r\n<span style=\"color:#990030; font-weight:bold;\">// 请求拦截器</span>\r\nhttp.interceptors.request.use(\r\n  config => {\r\n    let token = session.get('token')\r\n    if (token) {\r\n      config.headers.Authorization = token  // 将token设置成请求头\r\n    }\r\n    if (config.responseType === 'blob') {\r\n      config.headers.responseType = 'blob' // 设置请求头类型\r\n    }\r\n    if (config.responseType === 'application/x-www-form-urlencoded') {\r\n      config.headers['Content-Type'] = 'application/x-www-form-urlencoded'\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n<span style=\"color:#990030; font-weight:bold;\">// 响应拦截器</span>\r\nhttp.interceptors.response.use(\r\n  res => {\r\n    // 错误码统一拦截\r\n    let { status, msg } = res.data || res\r\n    if (status !== 0) {\r\n      Message.error(msg) // 需要引入ElementUI message组件\r\n    }\r\n    return res\r\n  },\r\n  error => {\r\n    if (error && error.response) {\r\n      let { status } = error.response.data\r\n      if (status === 400) { // 错误码拦截\r\n        Message.error('服务异常')\r\n      }\r\n      if (status === 404) {\r\n        Message.error('页面请求地址错误')\r\n      }\r\n      if (status === 500) {\r\n        Message.error('服务异常')\r\n      }\r\n      if (status === 'canceled') {\r\n        Message.error('服务异常')\r\n      }\r\n    }\r\n  \r\n    // 对响应错误做点什么\r\n    if(error.message.includes('timeout')){ // 判断请求异常信息中是否含有超时timeout字符串\r\n      Message.error('请求超时')\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n</pre>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'interceptor',\r\n\tdata() {\r\n\t\treturn {\r\n\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.interceptor {}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interceptor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./interceptor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./interceptor.vue?vue&type=template&id=21f1cac6&scoped=true&\"\nimport script from \"./interceptor.vue?vue&type=script&lang=js&\"\nexport * from \"./interceptor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./interceptor.vue?vue&type=style&index=0&id=21f1cac6&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21f1cac6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}