(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42c6cb38"],{"2bd5":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"case-box tinymce"},[e("h1",[t._v("tinymce 富文本")]),e("div",{staticClass:"tinymce"},[e("editor",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"myTinymce","element-loading-text":"编辑器加载中",init:t.initEdit},model:{value:t.tinyMceCont,callback:function(e){t.tinyMceCont=e},expression:"tinyMceCont"}})],1),e("div",{staticClass:"mt15 mb15"},[t._v("本地化：https://www.jianshu.com/p/ce7783c8187d")]),e("div",{staticClass:"mt15 mb15"},[t._v("异步加载 CDN 的引入方式 https://panjiachen.github.io/vue-element-admin-site/zh/feature/component/rich-editor.html#%E5%B8%B8%E8%A7%81%E5%AF%8C%E6%96%87%E6%9C%AC")]),e("footer",{staticClass:"foot-btn"},[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.getContent}},[t._v("获取内容")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.setContent}},[t._v("设置内容")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.getWords}},[t._v("字数统计")])],1)])},o=[],r=n("ade3"),a=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],s=function(t){return-1!==a.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},c=function(t,e,n){Object.keys(e).filter(s).forEach((function(i){var o=e[i];"function"===typeof o&&("onInit"===i?o(t,n):n.on(i.substring(2),(function(t){return o(t,n)})))}))},u=function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,i=Array.isArray(n)?n.join(" "):n;e.on(i||"change input undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))},l=function(t,e,n){var i=e.$props.value?e.$props.value:"",o=e.$props.initialValue?e.$props.initialValue:"";n.setContent(i||(e.initialized?e.cache:o)),e.$watch("value",(function(t,i){n&&"string"===typeof t&&t!==i&&t!==n.getContent({format:e.$props.outputFormat})&&n.setContent(t)})),e.$listeners.input&&u(e,n),c(t,e.$listeners,n),e.initialized=!0},d=0,p=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return d++,t+"_"+n+d+String(e)},f=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},m=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},b=function(t,e){return m(t).concat(m(e))},h=function(t){return null===t||void 0===t},v=function(){return{listeners:[],scriptId:p("tiny-script"),scriptLoaded:!1}},g=function(){var t=v(),e=function(t,e,n,i){var o=e.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=t,o.src=n;var r=function(){o.removeEventListener("load",r),i()};o.addEventListener("load",r),e.head&&e.head.appendChild(o)},n=function(n,i,o){t.scriptLoaded?o():(t.listeners.push(o),n.getElementById(t.scriptId)||e(t.scriptId,n,i,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},i=function(){t=v()};return{load:n,reinitialize:i}},y=g(),C=n("c4a9"),E={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},S=function(){return S=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},S.apply(this,arguments)},w=function(t,e,n){return t(n||"div",{attrs:{id:e}})},$=function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})},I=function(t){return function(){var e=S(S({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:b(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return l(n,t,e)})),t.$props.init&&"function"===typeof t.$props.init.setup&&t.$props.init.setup(e)}});f(t.element)&&(t.element.style.visibility="",t.element.style.display=""),Object(C["a"])().init(e)}},O={props:E,created:function(){this.elementId=this.$props.id||p("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(C["a"])())I(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=h(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;y.load(this.element.ownerDocument,n,I(this))}},beforeDestroy:function(){null!==Object(C["a"])()&&Object(C["a"])().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=Object(C["a"])())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&I(this)()},render:function(t){return this.inlineEditor?w(t,this.elementId,this.$props.tagName):$(t,this.elementId)}},A=O,N={name:"tinymce",data:function(){var t=this;return{loading:!0,tinyMceCont:"",initEdit:{selector:"#myTinymce",menubar:!1,plugins:"lists table wordcount image insertdatetime fullscreen imageuploadtoqiniu",toolbar:"undo redo | formatselect | bold italic underline strikethrough | alignleft aligncenter alignright | forecolor backcolor | table | removeformat | wordcount | code image preview fullscreen",height:"700",image_description:!1,image_title:!0,automatic_uploads:!1,file_picker_types:"image",onpageload:function(){t.$message({type:"warning",message:"编辑器加载中",duration:1200})},init_instance_callback:function(){t.$message({type:"success",message:"加载完成",duration:1200}),t.loading=!1},file_picker_callback:function(t,e,n){var i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept","image/*"),i.onchange=function(){var e=this.files[0],n=new FileReader;if(e.size>3145728)return Toast({message:"上传的图片最大不超过3MB",duration:2e3}),!1;n.onload=function(){var i,o=new FormData;o.append("files",e),o.append("token",sessionStorage.getItem("qiniuToken")),o.append("use",10),axios((i={method:"POST",url:"/Common/Upload"},Object(r["a"])(i,"url","https://upload.qiniup.com/"),Object(r["a"])(i,"headers",{"Content-Type":"multipart/form-data"}),Object(r["a"])(i,"data",o),Object(r["a"])(i,"timeout",3e4),i)).then((function(i){var o="blobid"+(new Date).getTime(),r=tinymce.activeEditor.editorUpload.blobCache,a=n.result.split(",")[1],s=r.create(o,e,a);r.add(s),t(i.data.data.url)}))},n.readAsDataURL(e)},i.click()}}}},components:{Editor:A},methods:{getContent:function(){console.log(tinyMCE.activeEditor.getContent())},setContent:function(){this.tinyMceCont=tinymce.activeEditor.setContent("这是设置的内容...")},getWords:function(){console.log(activeEditor.selection.getContent())}}},j=N,_=(n("81ea"),n("f602"),n("2877")),M=Object(_["a"])(j,i,o,!1,null,"4914b31e",null);e["default"]=M.exports},"34ab":function(t,e,n){},"4dae":function(t,e,n){var i=n("23cb"),o=n("07fa"),r=n("8418"),a=Array,s=Math.max;t.exports=function(t,e,n){for(var c=o(t),u=i(e,c),l=i(void 0===n?c:n,c),d=a(s(l-u,0)),p=0;u<l;u++,p++)r(d,p,t[u]);return d.length=p,d}},"51eb":function(t,e,n){"use strict";var i=n("825a"),o=n("485a"),r=TypeError;t.exports=function(t){if(i(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw r("Incorrect hint");return o(this,t)}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("e330"),o=n("1d80"),r=n("577e"),a=n("5899"),s=i("".replace),c=RegExp("^["+a+"]+"),u=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(t){return function(e){var n=r(o(e));return 1&t&&(n=s(n,c,"")),2&t&&(n=s(n,u,"$1")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},8172:function(t,e,n){var i=n("e065"),o=n("57b9");i("toPrimitive"),o()},"81ea":function(t,e,n){"use strict";n("8c38")},8418:function(t,e,n){"use strict";var i=n("a04b"),o=n("9bf2"),r=n("5c6c");t.exports=function(t,e,n){var a=i(e);a in t?o.f(t,a,r(0,n)):t[a]=n}},"8c38":function(t,e,n){},a9e3:function(t,e,n){"use strict";var i=n("23e7"),o=n("c430"),r=n("83ab"),a=n("da84"),s=n("428f"),c=n("e330"),u=n("94ca"),l=n("1a2d"),d=n("7156"),p=n("3a9b"),f=n("d9b5"),m=n("c04e"),b=n("d039"),h=n("241c").f,v=n("06cf").f,g=n("9bf2").f,y=n("408a"),C=n("58a8").trim,E="Number",S=a[E],w=s[E],$=S.prototype,I=a.TypeError,O=c("".slice),A=c("".charCodeAt),N=function(t){var e=m(t,"number");return"bigint"==typeof e?e:j(e)},j=function(t){var e,n,i,o,r,a,s,c,u=m(t,"number");if(f(u))throw I("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=C(u),e=A(u,0),43===e||45===e){if(n=A(u,2),88===n||120===n)return NaN}else if(48===e){switch(A(u,1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+u}for(r=O(u,2),a=r.length,s=0;s<a;s++)if(c=A(r,s),c<48||c>o)return NaN;return parseInt(r,i)}return+u},_=u(E,!S(" 0o1")||!S("0b1")||S("+0x1")),M=function(t){return p($,t)&&b((function(){y(t)}))},k=function(t){var e=arguments.length<1?0:S(N(t));return M(this)?d(Object(e),this,k):e};k.prototype=$,_&&!o&&($.constructor=k),i({global:!0,constructor:!0,wrap:!0,forced:_},{Number:k});var x=function(t,e){for(var n,i=r?h(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;i.length>o;o++)l(e,n=i[o])&&!l(t,n)&&g(t,n,v(e,n))};o&&w&&x(s[E],w),(_||o)&&x(s[E],S)},ade3:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n("8172"),n("efec"),n("d9e2"),n("a9e3");function o(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function r(t){var e=o(t,"string");return"symbol"===i(e)?e:String(e)}function a(t,e,n){return e=r(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},c4a9:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var i=function(){return"undefined"!==typeof window?window:t},o=function(){var t=i();return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))},efec:function(t,e,n){var i=n("1a2d"),o=n("cb2d"),r=n("51eb"),a=n("b622"),s=a("toPrimitive"),c=Date.prototype;i(c,s)||o(c,s,r)},f602:function(t,e,n){"use strict";n("34ab")}}]);
//# sourceMappingURL=chunk-42c6cb38.3b3dd5bd.js.map